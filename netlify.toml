[build]
  command = "npm run build"
  publish = ".next"

[functions]
  # Extend timeout for export functions (requires Pro plan for >10s)
  # Free: 10s, Pro: 26s, Enterprise: 60s
  directory = "netlify/functions"

[functions."export-pptx"]
  # PPT export needs more time for screenshots
  external_node_modules = ["pptxgenjs"]

[functions."export-pdf"]
  # PDF export via Browserless
  external_node_modules = []

[[plugins]]
  package = "@netlify/plugin-nextjs"
